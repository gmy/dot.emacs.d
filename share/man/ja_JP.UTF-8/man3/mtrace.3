.\"  Copyright 2002 Walter Harms (walter.harms@informatik.uni-oldenburg.de)
.\"  Distributed under GPL
.\"  the glibc-info pages are very helpful here
.\"
.\" Japanese Version Copyright (c) 2002 Akihiro MOTOKI all rights reserved.
.\" Translated Thu 05 Dec 2002 by Akihiro MOTOKI <amotoki@dd.iij4u.or.jp>
.\"
.TH MTRACE 3 2002-07-20 "GNU" "Linux Programmer's Manual"
.SH 名前
mtrace, muntrace \- malloc debugging
.SH 書式
.B "#include <mcheck.h>"
.sp
.B "void mtrace(void);"
.sp
.B "void muntrace(void);"
.SH 説明
関数
.BR mtrace ()
は、
.BR malloc (3),
.BR realloc (3),
.BR free (3)
のハンドラを組み込む。
関数
.BR muntrace ()
はこれらのハンドラを解除する。
.br
環境変数
.B MALLOC_TRACE
は
.BR mtrace ()
が出力を書き出すファイルを指定する。
ユーザが書き込み権限を持つファイルを指定しなければならない。
書き込み権限がない場合、
.BR mtrace ()
は何もしない。
.\" motoki: truncate って「後ろを切ってしまう」ような意味のはずだけど
.\" motoki: 実際に試してみると、元のファイルを上書きするようです・・・
ファイルが空でない場合、ファイルの元の内容を上書きする。
.SH 準拠
この関数は GNU 拡張である。
.SH 注意
.BR mtrace ()
の出力は ASCII 形式だが、人が読みやすいフォーマットではない。
そこで、glibc には mtrace 出力を分かりやすい形式に変換する
perl スクリプトが付属している。
.SH 関連項目
.BR malloc (3),
.BR malloc_hook (3)
