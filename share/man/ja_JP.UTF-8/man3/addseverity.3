.\"  Copyright 2002 walter harms (walter.harms@informatik.uni-oldenburg.de)
.\"  Distributed under GPL
.\"  adapted glibc info page
.\"
.\"  polished a little, aeb
.\"
.\" Japanese Version Copyright (c) 2004 Yuichi SATO
.\"         all rights reserved.
.\" Translated Thu Jul  1 01:12:35 JST 2004
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\"
.\"WORD:	severity class	重大度
.\"
.TH ADDSEVERITY 3 2008-06-14 "GNU" "Linux Programmer's Manual"
.SH 名前
addseverity \- 新しい重大度 (severity class) を導入する
.SH 書式
.nf
.sp
.B #include <fmtmsg.h>
.sp
.BI "int addseverity(int " severity ", const char *" s );
.fi
.sp
.in -4n
glibc 向けの機能検査マクロの要件
.RB ( feature_test_macros (7)
参照):
.in
.sp
.BR addseverity ():
_SVID_SOURCE
.SH 説明
この関数により、新しい重大度を導入できる。
この重大度は、
.BR fmtmsg (3)
関数の
.I severity
引き数に入れることができる。
デフォルトでは、後者の
.BR fmtmsg (3)
関数は重大度 0-4 (文字列では (none), HALT, ERROR, WARNING, INFO) の
メッセージを表示する方法しか知らない。
この
.BR addseverity (3)
の呼び出しにより、指定された文字列
.I s
に指定された値
.I severity
を付加する。
.I s
が NULL の場合、数値
.I severity
の重大度が削除される。
デフォルトの重大度のどれかを上書きしたり削除したりすることはできない。
重大度の値は負でない数としなければならない。
.SH 返り値
成功した場合、値
.B MM_OK
が返される。
エラーの場合、返り値は
.B MM_NOTOK
である。
起こる可能性があるエラーには、以下のものが含まれる:
メモリを使い果たした。
存在しない重大度またはデフォルトの重大度を削除しようとした。
.SH バージョン
.BR addseverity ()
はバージョン 2.1 以降の glibc で提供されている。
.SH 準拠
.BR fmtmsg (3)
関数は X/Open Portability Guide に指定されているが、
この関数は指定されていない。
この関数は System V システムで利用可能である。
.SH 注意
新しい重大度は、環境変数
.B SEV_LEVEL
を設定することで追加することもできる。
.SH 関連項目
.BR fmtmsg (3)
