.\" Copyright (c) 2003-2009
.\" 	Todd C. Miller <Todd.Miller@courtesan.com>
.\" 
.\" Permission to use, copy, modify, and distribute this software for any
.\" purpose with or without fee is hereby granted, provided that the above
.\" copyright notice and this permission notice appear in all copies.
.\" 
.\" THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
.\" WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
.\" MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
.\" ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
.\" WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
.\" ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
.\" OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
.\" ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
.\" 
.\" Japanese Version Copyright (c) 2009 Yoichi Chonan
.\"         all rights reserved.
.\" Translated (sudo-1.7.2p1) Sat Nov 14 21:15:16 JST 2009
.\"         by Yoichi Chonan <cyoichi@maple.con.ne.jp>
.\"
.\" $Sudo: sudoers.ldap.man.in,v 1.13 2009/06/11 20:29:12 millert Exp $
.\" Automatically generated by Pod::Man 2.16 (Pod::Simple 3.05)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sh \" Subsection heading
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` 
.    ds C' 
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.Sh), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "SUDOERS.LDAP 5"
.TH SUDOERS.LDAP 5 "June 11, 2009" "1.7.2p1" "MAINTENANCE COMMANDS"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "名前"
sudoers.ldap \- LDAP を使った sudo の設定
.SH "説明"
.IX Header "DESCRIPTION"
\&\fBsudo\fR は \fIsudoers\fR ファイルによって設定するのが標準だが、
\&\s-1LDAP\s0 を通して設定することも可能だ。この方法は、
大規模な分散環境で sudo の設定を同期させたい場合にとりわけ便利かもしれない。
.PP
sudo の設定に \s-1LDAP\s0 を使用すると、有利な点がいくつかある。
.IP "\(bu" 4
\&\fBsudo\fR はもはや sudo の設定をまるまる全部読み込む必要がない。
\&\s-1LDAP\s0 を使用する場合は、\fBsudo\fR の実行ごとに \s-1LDAP\s0 の検索を
たった二回か三回行うだけですむ。そのため、\s-1LDAP\s0 環境は実行速度が
非常に早く、たいへん使い勝手がよい。
.IP "\(bu" 4
sudo の設定にタイプミスがあっても、もうそのために \fBsudo\fR が終了して
しまうことがない。\s-1LDAP\s0 のデータは、sudo 用のスキーマに
従っていないかぎり、サーバーにロードできない。結果として、正しいシンタクスが
保証されるわけだ。ユーザ名やホスト名をタイプミスすることなら
相変わらずあるだろうが、そのために \fBsudo\fR が動かなくなることはない。
.IP "\(bu" 4
エントリごとにオプションを指定して、グローバルなデフォルト・オプションを
上書きすることができる。\fI/etc/sudoers\fR はグローバルな
デフォルト・オプションと、ユーザ、ホスト、コマンド、変身対象に結びついた
限定されたオプションしかサポートしていない。また、\fI/etc/sudoers\fR の
シンタクスは複雑で、ユーザには理解しにくいかもしれない。オプションを
エントリ内で直接指定する方が、ずっと自然である。
.IP "\(bu" 4
\&\fBvisudo\fR プログラムはもう必要がない。\fBvisudo\fR の役割は
\&\fI/etc/sudoers\fR ファイルのロッキングとシンタクス・チェックである。
\&\s-1LDAP\s0 のデータ更新はアトミック操作なので、(訳注: それ故、データは
更新されていないか、すでに更新されたかのどちらかであって、中間状態が
ないので)、ロッキングはもはや必要がない。
シンタクスは、データが \s-1LDAP\s0 にインサートされるとき
チェックされるから、シンタクス・チェック用の特別なツールも無用になっている。
.PP
\&\s-1LDAP\s0 による設定と \fIsudoers\fR ファイルによる設定との、
もう一つの大きな違いは、\s-1LDAP\s0 では \fBsudo\fR 専用のエイリアスが
サポートされていないことである。
.PP
たいていの場合、\fBsudo\fR 専用のエイリアスは実のところ必要がない。
User_Aliases や Runas_Aliases の代わりに、Unix のグループやユーザの
ネットグループが使用できる。また、Host_Aliases の代わりには、ホストの
ネットグループが使える。\s-1LDAP\s0 には Unix のグループやネットグループも
格納できるので、\fBsudo\fR 専用のエイリアスがどうしても必要というわけでは
ないのだ。
.PP
Cmnd_Aliases もまったく必要がない。一つの sudoRole エントリに
複数のユーザを登録できるからだ。複数のユーザが参照する Cmnd_Alias を
定義する代わりに、複数のコマンドを含む sudoRole エントリを一つ作成して、
そこに複数のユーザを割り当てればよい。
.IP "[\fB訳注\fR]:" 8
.IX Item "footnote1"
原文の著者は、sudo 設定の単位となる \f(CW\*(C`objectClass\*(C'\fR
属性が \f(CW\*(C`sudoRole\*(C'\fR の LDAP エントリのうち、
\&\fI/etc/sudoers\fR の各ユーザ設定に相当するものを「a sudoRole」と
呼んでいる。訳文では「sudoRole エントリ」とした。
.Sh "\s-1LDAP\s0 の SUDOers コンテナ"
.IX Subsection "SUDOers LDAP container"
\&\s-1LDAP\s0 では sudo の設定は \f(CW\*(C`ou=SUDOers\*(C'\fR コンテナの
下に配置されている。
.IP "[\fB訳注\fR]:" 8
.IX Item "footnote2"
コンテナとは、データを格納するためにではなく、下位のエントリを
まとめておくために存在する上位エントリを言う。たとえば、
OpenLDAP 用の \f(CW\*(C`ou=SUDOers\*(C'\fR コンテナなら、こんなふうになる
(sudo 同梱の README.LDAP から引用)。
.PP
.Vb 4
\&          dn: ou=SUDOers,dc=example,dc=com
\&          objectClass: top
\&          objectClass: organizationalUnit
\&          ou: SUDOers
.Ve
.PP
sudo はまず最初に SUDOers コンテナ配下に \f(CW\*(C`cn=default\*(C'\fR の
エントリを捜す。見つかった場合は、複数回指定可能な
\&\f(CW\*(C`sudoOption\*(C'\fR 属性が、\fI/etc/sudoers\fR のグローバルな
\&\f(CW\*(C`Defaults\*(C'\fR 行と同じやり方で解析される。
以下の例では、環境変数 \f(CW\*(C`SSH_AUTH_SOCK\*(C'\fR が
すべてのユーザの環境に保存されることになる。
.PP
.Vb 6
\&    dn: cn=defaults,ou=SUDOers,dc=example,dc=com
\&    objectClass: top
\&    objectClass: sudoRole
\&    cn: defaults
\&    description: Default sudoOption\*(Aqs go here
\&    sudoOption: env_keep+=SSH_AUTH_SOCK
.Ve
.PP
\&\s-1LDAP\s0 において \fI/etc/sudoers\fR の個々の「ユーザ設定」に
相当するのは、
\&\f(CW\*(C`sudoRole\*(C'\fR エントリである。
それは以下の構成要素からできている。
.IP "\fBsudoUser\fR" 4
.IX Item "sudoUser"
次のうちのいづれか。ユーザ名、uid (\f(CW\*(Aq#\*(Aq\fR が頭に付く)、
Unix グループ名 (\f(CW\*(Aq%\*(Aq\fR が頭に付く)、
ユーザのネットグループ名 (\f(CW\*(Aq+\*(Aq\fR が頭に付く)。
.IP "\fBsudoHost\fR" 4
.IX Item "sudoHost"
次のうちのいづれか。ホスト名、\s-1IP\s0 アドレス、ネットワークアドレス、
ホストのネットグループ名 (\f(CW\*(Aq+\*(Aq\fR が頭に付く)。
\&\f(CW\*(C`ALL\*(C'\fR という特別な値はいかなるホストにもマッチする。
.IP "\fBsudoCommand\fR" 4
.IX Item "sudoCommand"
Unix のコマンド。コマンドライン引数を付けてもよく、glob 文字
(ワイルドカードとも言う) を含んでいてもよい。\f(CW\*(C`ALL\*(C'\fR という
特別な値は、いかなるコマンドにもマッチする。コマンドに
感嘆符 \f(CW\*(Aq!\*(Aq\fR を接頭辞として付けると、ユーザに
そのコマンドの実行を禁じることになる。
.IP "\fBsudoOption\fR" 4
.IX Item "sudoOption"
働きは、前述のグローバルオプションと同じだが、それが属している
\&\f(CW\*(C`sudoRole\*(C'\fR エントリに対してのみ効果がある。
.IP "\fBsudoRunAsUser\fR" 4
.IX Item "sudoRunAsUser"
変身対象となるユーザ名か、uid (\f(CW\*(Aq#\*(Aq\fR が頭に付く)。
あるいは、変身対象ユーザをリストに含む Unix のグループ名か 
(\f(CW\*(Aq%\*(Aq\fR が頭に付く)、ユーザのネットグループ名 
(\f(CW\*(Aq+\*(Aq\fR が頭に付く)。特別な値 \f(CW\*(C`ALL\*(C'\fR は、
いかなるユーザにもマッチする。
.IP "\fBsudoRunAsGroup\fR" 4
.IX Item "sudoRunAsGroup"
変身対象となる Unix グループ名 か gid (\f(CW\*(Aq#\*(Aq\fR が頭に付く)。
特別な値 \f(CW\*(C`ALL\*(C'\fR はいかなるグループにもマッチする。
.PP
上記の各構成要素が含む値は一個であるべきだが、同じタイプの構成要素が
複数回現れてもよい。sudoRole エントリは  \f(CW\*(C`sudoUser\*(C'\fR、
\&\f(CW\*(C`sudoHost\*(C'\fR、\f(CW\*(C`sudoCommand\*(C'\fR を
少なくとも一個づつ含んでいなければならない。
.PP
以下の例では、wheel グループのユーザに \fBsudo\fR 経由でいかなるホストでも
任意のコマンドの実行を許可している。
.PP
.Vb 7
\&    dn: cn=%wheel,ou=SUDOers,dc=example,dc=com
\&    objectClass: top
\&    objectClass: sudoRole
\&    cn: %wheel
\&    sudoUser: %wheel
\&    sudoHost: ALL
\&    sudoCommand: ALL
.Ve
.Sh "\s-1LDAP\s0 を使って sudo の設定を参照するときの詳細"
.IX Subsection "Anatomy of LDAP sudoers lookup"
\&\s-1LDAP\s0 を使って sudo の設定を参照するとき、LDAP の問い合わせは
\&\fBsudo\fR の実行ごとにたった二回か三回行われるだけである。
一回目の問い合わせは、グローバル・オプションを解析するために行われる。
二回目の問い合わせは、\fBsudo\fR を実行するユーザのユーザ名や
所属グループに対応するエントリを見つけるためだ (特別なタグ \s-1ALL\s0 が
何にでもマッチするのは、この場合も同様である)。
ユーザ名やグループに対応するエントリが得られなかった場合は、
三回目の問い合わせが行われ、ユーザのネットグループを含んでいる
すべてのエントリーを取得して、問題のユーザがそのどれかに属していないかを
チェックする。
.Sh "\s-1LDAP\s0 と non-LDAP の sudo 設定の相違点"
.IX Subsection "Differences between LDAP and non-LDAP sudoers"
LDAP を使用する場合、sudo の設定の処理方法に \fI/etc/sudoers\fR の場合とは
微妙な違いがいくつかある。たぶん最大の違いは、\s-1RFC\s0 に書いてあるとおり、
\&\s-1LDAP\s0 の順序づけは不定なので、属性やエントリが何らかの
決まった順序で返されることを期待できないということだろう。ただし、
あるエントリーにコマンドに関して相反するルールがある場合は、否定する方が
優先される。これはパラノイア的動作と言われるものだ (もっとも、それが
一番明示的なマッチだとはかぎらないのだが)。
.PP
例を挙げてみよう。
.PP
.Vb 5
\&    # /etc/sudoers の場合:
\&    # shell 以外のすべてのコマンドを許可する
\&    johnny  ALL=(root) ALL,!/bin/sh
\&    # 次の設定は、ALL が最後にマッチするので、常にすべてのコマンドを
\&    # 許可することになる
\&    puddles ALL=(root) !/bin/sh,ALL
\&
\&    # 上記の johnny に相当する LDAP のエントリ:
\&    # shell 以外のすべてのコマンドを許可する
\&    dn: cn=role1,ou=Sudoers,dc=my\-domain,dc=com
\&    objectClass: sudoRole
\&    objectClass: top
\&    cn: role1
\&    sudoUser: johnny
\&    sudoHost: ALL
\&    sudoCommand: ALL
\&    sudoCommand: !/bin/sh
\&
\&    # 上記の puddles に相当する LDAP のエントリ:
\&    # ALL が最後に指定されているが、LDAP のコードはよりパラノイア的な
\&    # 設定になっているため、これもまた role1 と同じように動作する
\&    # ことに注意してほしい
\&    dn: cn=role2,ou=Sudoers,dc=my\-domain,dc=com
\&    objectClass: sudoRole
\&    objectClass: top
\&    cn: role2
\&    sudoUser: puddles
\&    sudoHost: ALL
\&    sudoCommand: !/bin/sh
\&    sudoCommand: ALL
.Ve
.PP
もう一つの相違は、Host、User、Runas についての否定は、現在のところ
無視されるということだ。たとえば、以下に挙げるような属性は期待どおりに
動作しない。
.PP
.Vb 3
\&    # joe 以外の全員とマッチしないどころか、
\&    # 誰にもマッチしない
\&    sudoUser: !joe
\&
\&    # joe 以外の全員とマッチしないどころか、
\&    # joe を含む全員にマッチしてしまう
\&    sudoUser: ALL
\&    sudoUser: !joe
\&
\&    # web01 以外のすべてとマッチしないどころか、
\&    # web01 を含むすべてのホストにマッチしてしまう
\&    sudoHost: ALL
\&    sudoHost: !web01
.Ve
.Sh "sudo 用のスキーマ"
.IX Subsection "Sudoers Schema"
\&\fBsudo\fR の \s-1LDAP\s0 サポートを利用するためには、
お使いの \s-1LDAP\s0 サーバに \fBsudo\fR 用のスキーマを
インストールしなければならない。さらに、'sudoUser' 属性の索引も
必ず作成する。
.PP
たぶん、\fBsudo\fR の配布物中に三種類のスキーマが入っていると思う。
すなわち OpenLDAP サーバ用 (\fIschema.OpenLDAP\fR)、
Netscape ディレクトリサーバの流れを汲むサーバ用 (\fIschema.iPlanet\fR)、
Microsoft Active Directory 用 (\fIschema.ActiveDirectory\fR) の
スキーマである。
.PP
OpenLDAP 用の形式にした \fBsudo\fR のスキーマについては、
以下の「用例」セクションにも記載しておいた。
.Sh "ldap.conf の設定"
.IX Subsection "Configuring ldap.conf"
sudo は LDAP に関する設定を知るために \fI/etc/ldap.conf\fR を読み込む。
通例、このファイルは、LDAP に対応しているさまざまなクライアントの
間で共有されている。それ故、設定の大部分は \fBsudo\fR 専用ではない。
注意すべきは、\fBsudo\fR は \fI/etc/ldap.conf\fR を独自に解析しており、
\&\fIldap.conf\fR\|(5) のマニュアルで説明されているものとは
異なるオプションをサポートしていることがあるということだ。
.PP
もうひとつ注意してほしいのは、OpenLDAP ライブラリを使っている
システムでは、 \fI/etc/openldap/ldap.conf\fR やユーザの \fI.ldaprc\fR 
ファイルで指定しているデフォルト値が使用されないことである。
.PP
すなわち、\fI/etc/ldap.conf\fR に明示的に記載され、かつ \fBsudo\fR で
サポートされているオプションのみが使用される。設定オプションを
以下に大文字で列挙するが、解析されるときは大文字小文字は区別されない。
.IP "\fB\s-1URI\s0\fR ldap[s]://[hostname[:port]] ..." 4
.IX Item "URI ldap[s]://[hostname[:port]] ..."
接続する一個以上の \s-1LDAP\s0 サーバ の URI を、空白 (whitespace) で
区切ったリストの形で指定する。プロトコルは \fBldap\fR と \fBldaps\fR の
どちらでもよい。後者は \s-1TLS\s0 (\s-1SSL\s0) 暗号化に対応している
サーバの場合である。ポートを指定しないときのデフォルトは、
\&\f(CW\*(C`ldap://\*(C'\fR では 389 番ポート、
\&\f(CW\*(C`ldaps://\*(C'\fR では 636 番ポートである。\fIhostname\fR を
一つも指定しないと、
\&\fBsudo\fR は \fBlocalhost\fR に接続することになる。
OpenSSL ライブラリを使用しているシステムのみが、\f(CW\*(C`ldap://\*(C'\fR と 
\f(CW\*(C`ldaps://\*(C'\fR 両方の URI を混ぜて使うことに対応している。
たいていの商用 Unix では Netscape 由来のライブラリが使用されて
いるが、そうしたライブラリはどちらか一方に対応することしかできない。
.IP "\fB\s-1HOST\s0\fR name[:port] ..." 4
.IX Item "HOST name[:port] ..."
\&\fBURI\fR パラメータが指定されていない場合は、
\&\fB\s-1HOST\s0\fR パラメータで指定する空白 (whitespace) で
区切ったリストが、接続する \s-1LDAP\s0 サーバである。
各ホストにはコロン (':') に続けて、ポート番号を書いてもよい。
\fB\s-1HOST\s0\fR パラメータは非推奨であり、\fB\s-1URI\s0\fR で
指定する方が望ましい。このパラメータがあるのは、後方互換のためである。
.IP "\fB\s-1PORT\s0\fR port_number" 4
.IX Item "PORT port_number"
\fB\s-1URI\s0\fR パラメータが指定されず、\fB\s-1HOST\s0\fR パラメータでも
ポートが指定されていないときは、\fB\s-1PORT\s0\fR パラメータが
\&\s-1LDAP\s0 サーバに接続するときのデフォルトのポートを指定する。
\&\fB\s-1PORT\s0\fR パラメータが使用されていない場合、デフォルトのポートは
\&\s-1LDAP\s0 では 389 番、\s-1LDAP\s0 over \s-1TLS\s0 (\s-1SSL\s0) では
636 番である。\fB\s-1PORT\s0\fR パラメータは非推奨であり、
\&\fB\s-1URI\s0\fR で指定する方が望ましい。このパラメータがあるのは、
後方互換のためである。
.IP "\fB\s-1BIND_TIMELIMIT\s0\fR seconds" 4
.IX Item "BIND_TIMELIMIT seconds"
\&\fB\s-1BIND_TIMELIMIT\s0\fR パラメータは、\s-1LDAP\s0 サーバに
接続しようとするときの待ち時間を秒数で指定する。\fB\s-1URI\s0\fR や
\&\fB\s-1HOST\s0\fR が複数指定されている場合は、その時間だけ待ってから、
リスト中の次のサーバに接続を試みることを意味する。
.IP "\fB\s-1TIMELIMIT\s0\fR seconds" 4
.IX Item "TIMELIMIT seconds"
\&\fB\s-1TIMELIMIT\s0\fR パラメータは、\s-1LDAP\s0 参照に対して応答が
返ってくるまでの待ち時間を秒数で指定する。
.IP "\fB\s-1SUDOERS_BASE\s0\fR base" 4
.IX Item "SUDOERS_BASE base"
\&\fBsudo\fR が \s-1LDAP\s0 参照を行うときに使用するベース \s-1DN\s0 を
指定する。ドメインが \f(CW\*(C`example.com\*(C'\fR ならば、
\&\f(CW\*(C`ou=SUDOers,dc=example,dc=com\*(C'\fR という形になるのが普通である。
.IP "\fB\s-1SUDOERS_DEBUG\s0\fR debug_level" 4
.IX Item "SUDOERS_DEBUG debug_level"
\&\fBsudo\fR が \s-1LDAP\s0 参照をするときのデバッグレベルを決める。
デバック情報の出力先は標準エラーである。値を 1 にすると、
多からず少なからずほどほどのデバック情報が表示される。値を 2 にすると、
マッチの結果そのものも出力される。実用環境では、このパラメータを
設定するべきではない。ユーザが余計な情報に混乱しかねないからだ。
.IP "\fB\s-1BINDDN\s0\fR \s-1DN\s0" 4
.IX Item "BINDDN DN"
\&\fB\s-1BINDDN\s0\fR パラメータは、誰の名前で \s-1LDAP\s0 の操作を行うかを、
識別名 (\s-1DN\s0) を使って指定する。これが指定されていない場合、
\&\s-1LDAP\s0 の操作は anonymous の名前で実行される。
\&\s-1LDAP\s0 サーバは、たいていデフォルトで anonymous によるアクセスを
許可しているものである。
.IP "\fB\s-1BINDPW\s0\fR secret" 4
.IX Item "BINDPW secret"
\&\fB\s-1BINDPW\s0\fR パラメータは、\s-1LDAP\s0 の操作を行うときに
使用するパスワードを指定する。通例、このパラメータは、\fB\s-1BINDDN\s0\fR
パラメータと組み合わせて使用する。
.IP "\fB\s-1ROOTBINDDN\s0\fR \s-1DN\s0" 4
.IX Item "ROOTBINDDN DN"
\&\fB\s-1ROOTBINDDN\s0\fR パラメータは、sudo 設定の参照のような
特権的な \s-1LDAP\s0 操作をするとき、誰の名前で行うかを識別名 (\s-1DN\s0) を
使って指定する。その名前に対応するパスワードは \fI/etc/ldap.secret\fR に
書き込んでおくべきだ。これが指定されていない場合は、\fB\s-1BINDDN\s0\fR で
指定した名前が (もし、あるならば) 使用される。
.IP "\fB\s-1LDAP_VERSION\s0\fR number" 4
.IX Item "LDAP_VERSION number"
サーバに接続するときに使用する \s-1LDAP\s0 プロトコルのバージョン。
デフォルトの値は、プロトコルバージョン 3 である。
.IP "\fB\s-1SSL\s0\fR on/true/yes/off/false/no" 4
.IX Item "SSL on/true/yes/off/false/no"
\&\fB\s-1SSL\s0\fR パラメータが
\&\f(CW\*(C`on\*(C'\fR, \f(CW\*(C`true\*(C'\fR, \f(CW\*(C`yes\*(C'\fR に
なっていると、\s-1LDAP\s0 サーバと通信する際に、常に
\&\s-1TLS\s0 (\s-1SSL\s0) の暗号化を使用することになる。通例、それは
636 番ポート (ldaps) を通してサーバに接続することである。
.IP "\fB\s-1SSL\s0\fR start_tls" 4
.IX Item "SSL start_tls"
\&\fB\s-1SSL\s0\fR パラメータを \f(CW\*(C`start_tls\*(C'\fR に設定すると、
\&\s-1LDAP\s0 サーバへの接続を平文で開始してから、バインド操作のために
認証情報を送信する前に \s-1TLS\s0 の暗号化を始めることになる。
これには、暗号化された通信のために専用のポートを必要としないという
長所がある。このパラメータをサポートしているのは、
OpenLDAP サーバのような \f(CW\*(C`start_tls\*(C'\fR 拡張に対応している
\&\s-1LDAP\s0 サーバのみである。
.IP "\fB\s-1TLS_CHECKPEER\s0\fR on/true/yes/off/false/no" 4
.IX Item "TLS_CHECKPEER on/true/yes/off/false/no"
\&\fB\s-1TLS_CHECKPEER\s0\fR が
\&\f(CW\*(C`on\*(C'\fR, \f(CW\*(C`true\*(C'\fR, \f(CW\*(C`yes\*(C'\fR に
なっていると、
\&\s-1LDAP\s0 サーバの \s-1TLS\s0 証明書が有効かどうかチェックが行われる。
\&\s-1LDAP\s0 サーバの証明書が有効であることを確認できない場合 (たいていは、
署名している認証局が未知 (unknown) であることが理由だ)、\fBsudo\fR は
そのサーバに接続することができない。
\&\fB\s-1TLS_CHECKPEER\s0\fR が \f(CW\*(C`off\*(C'\fR などの場合は、
チェックが行われない。
.IP "\fB\s-1TLS_CACERTFILE\s0\fR file name" 4
.IX Item "TLS_CACERTFILE file name"
認証局の証明書を一つにまとめたファイルのパス。たとえば、
\&\fI/etc/ssl/ca\-bundle.pem\fR といったファイルであり、有効であると
クライアントが認識しているすべての認証局の証明書がそこに入っている。
このオプションをサポートしているのは、OpenLDAP ライブラリだけである。
.IP "\fB\s-1TLS_CACERTDIR\s0\fR directory" 4
.IX Item "TLS_CACERTDIR directory"
\&\fB\s-1TLS_CACERTFILE\s0\fR に似ているが、ファイルではなく、たとえば
\&\fI/etc/ssl/certs\fR といったディレクトリであり、認証局の証明書が
1 認証局 1 ファイルの形でそこに入っている。\fB\s-1TLS_CACERTDIR\s0\fR で
指定したディレクトリは、\fB\s-1TLS_CACERTFILE\s0\fR の後でチェックされる。
このオプションをサポートしているのは、OpenLDAP ライブラリだけである。
.IP "\fB\s-1TLS_CERT\s0\fR file name" 4
.IX Item "TLS_CERT file name"
クライアントの証明書が入っているファイルのパス。この証明書は、
\&\s-1LDAP\s0 サーバに対してクライアントの認証をするときに使用できる。
証明書のタイプは、利用する \s-1LDAP\s0 ライブラリによって異なっている。
.Sp
OpenLDAP:
    \f(CW\*(C`tls_cert /etc/ssl/client_cert.pem\*(C'\fR
.Sp
Netscape 由来:
    \f(CW\*(C`tls_cert /var/ldap/cert7.db\*(C'\fR
.Sp
Netscape 由来のライブラリを使う場合は、このファイルに認証局の証明書も
入れることができる。
.IP "\fB\s-1TLS_KEY\s0\fR file name" 4
.IX Item "TLS_KEY file name"
\&\fB\s-1TLS_CERT\s0\fR で指定した証明書に対応する秘密鍵が入っている
ファイルのパス。この秘密鍵はパスワードでプロテクトされていてはならない。
鍵のタイプは利用する \s-1LDAP\s0 ライブラリによって異なっている。
.Sp
OpenLDAP:
    \f(CW\*(C`tls_key /etc/ssl/client_key.pem\*(C'\fR
.Sp
Netscape 由来:
    \f(CW\*(C`tls_key /var/ldap/key3.db\*(C'\fR
.IP "\fB\s-1TLS_RANDFILE\s0\fR file name" 4
.IX Item "TLS_RANDFILE file name"
\&\fB\s-1TLS_RANDFILE\s0\fR は、random デバイスを持っていないシステムの
ためにエントロピー・ソースのパスを指定する。これは通例、\fIprngd\fR や
\&\fIegd\fR と組み合わせて使用するものである。このオプションを
サポートしているのは、
OpenLDAP ライブラリだけである。
.IP "\fB\s-1TLS_CIPHERS\s0\fR cipher list" 4
.IX Item "TLS_CIPHERS cipher list"
管理者は \fB\s-1TLS_CIPHERS\s0\fR パラメータによって、
\&\s-1TLS\s0 (\s-1SSL\s0) 接続に使用可能な暗号アルゴリズムを限定する
ことができる。有効な暗号のリストについては OpenSSL のマニュアルを
参照してほしい。このオプションをサポートしているのは、OpenLDAP ライブラリ
だけである。
.IP "\fB\s-1USE_SASL\s0\fR on/true/yes/off/false/no" 4
.IX Item "USE_SASL on/true/yes/off/false/no"
\&\s-1LDAP\s0 サーバ が \s-1SASL\s0 認証をサポートしているなら、
\&\fB\s-1USE_SASL\s0\fR を有効にする。
.IP "\fB\s-1SASL_AUTH_ID\s0\fR identity" 4
.IX Item "SASL_AUTH_ID identity"
\&\s-1LDAP\s0 サーバに接続するときに使用する \s-1SASL\s0 ユーザ名。
デフォルトでは、
\&\fBsudo\fR は anonymous 接続を使用する。
.IP "\fB\s-1ROOTUSE_SASL\s0\fR on/true/yes/off/false/no" 4
.IX Item "ROOTUSE_SASL on/true/yes/off/false/no"
\&\fB\s-1ROOTUSE_SASL\s0\fR を有効にすると、\fBsudo\fR のような
特権的なプロセスから \s-1LDAP\s0 サーバに接続するときに
\&\s-1SASL\s0 認証が可能になる。
.IP "\fB\s-1ROOTSASL_AUTH_ID\s0\fR identity" 4
.IX Item "ROOTSASL_AUTH_ID identity"
\&\fB\s-1ROOTUSE_SASL\s0\fR が有効なとき使用する \s-1SASL\s0 ユーザ名。
.IP "\fB\s-1SASL_SECPROPS\s0\fR none/properties" 4
.IX Item "SASL_SECPROPS none/properties"
\&\s-1SASL\s0 セキュリティ・プロパティ。プロパティなしのときは \fInone\fR を
指定する。詳細については、\s-1SASL\s0 プログラマーズ・マニュアルを見ること。
.IP "\fB\s-1KRB5_CCNAME\s0\fR file name" 4
.IX Item "KRB5_CCNAME file name"
リモート・サーバに対して認証をするときに使用する Kerberos 5
資格証明キャッシュのパス。
.PP
「用例」セクションにある \f(CW\*(C`ldap.conf\*(C'\fR のくだりも
参照してほしい。
.Sh "nsswitch.conf の設定"
.IX Subsection "Configuring nsswitch.conf"
ビルド時に無効にしないかぎり、\fBsudo\fR はネームサービス・スイッチ・
ファイル \fI/etc/nsswitch.conf\fR を調べて、sudo の設定を
参照する順番を決める。すなわち、\fI/etc/nsswitch.conf\fR に
\&\f(CW\*(C`sudoers\*(C'\fR: という文字列に始まる行を探し、
その行によって参照順を決定するのである。
気をつけてほしいのは、\fBsudo\fR は参照中、マッチする項目に一度出会ったからと
言って、そこで参照を終わりにしないことだ。しかも、後でマッチしたものが
前にマッチしたものよりも優先されるのである。
.PP
以下の参照元が有効である。
.PP
.Vb 2
\&    files       \fI/etc/sudoers\fR から sudo の設定を読み込む
\&    ldap        LDAP から sudo の設定を読み込む
.Ve
.PP
なお、\f(CW\*(C`[NOTFOUND=return]\*(C'\fR の記述があると、先行する参照元に
ユーザが見つからなかった場合、参照を中断することになる。
.PP
最初に \s-1LDAP\s0 を参照し、その後で (もし存在するならば) ローカルマシン上の
sudoers ファイルを調べるには、次のように指定する。
.PP
.Vb 1
\&    sudoers: ldap files
.Ve
.PP
ローカルマシン上の \fIsudoers\fR ファイルをまったく無視するには、
次のようにする。
.PP
.Vb 1
\&    sudoers: ldap
.Ve
.PP
\&\fI/etc/nsswitch.conf\fR ファイルが存在しなかったり、存在しても sudoers の
行がなかったりした場合は、次のデフォルト設定が使用される。
.PP
.Vb 1
\&    sudoers: files
.Ve
.PP
基盤となるオペーレーティング・システムが nsswitch.conf ファイルを
使用しない場合でも、\fBsudo\fR は \fI/etc/nsswitch.conf\fR を
サポートしていることに注意してほしい。
.Sh "netsvc.conf の設定"
.IX Subsection "Configuring netsvc.conf"
\&\s-1AIX\s0 システムでは、\fI/etc/nsswitch.conf\fR ではなく、
\&\fI/etc/netsvc.conf\fR ファイルを調べにいく。\fBsudo\fR としては、
\fInetsvc.conf\fR を \fInsswitch.conf\fR のバリエーションとして
扱うだけだ。それ故、上のセクションの記述のうち、ファイルの書式に
関係のないものは、ここでも当てはまることになる。
.PP
最初に \s-1LDAP\s0 を参照し、その後で (もし存在するならば) ローカルマシン上の
sudoers ファイルを調べるには、次のように指定する。
.PP
.Vb 1
\&    sudoers = ldap, files
.Ve
.PP
ローカルマシン上の \fIsudoers\fR ファイルをまったく無視するには、
次のようにする。
.PP
.Vb 1
\&    sudoers = ldap
.Ve
.PP
\&\s-1LDAP\s0 を正式の参照元と見なし、\s-1LDAP\s0 にユーザが
見つからなかったときのみ、ローカルの sudoers を使用する。
.PP
.Vb 1
\&    sudoers = ldap = auth, files
.Ve
.PP
上記の例において、\f(CW\*(C`auth\*(C'\fR 修飾子が影響を及ぼすのは、
ユーザを照合するときだけであることに注意してほしい。
\&\f(CW\*(C`Defaults\*(C'\fR エントリについては、\s-1LDAP\s0 と
\&\fIsudoers\fR の両方が参照される。
.PP
\&\fI/etc/netsvc.conf\fR ファイルが存在しなかったり、存在しても sudoers の
行がなかったりした場合は、次のデフォルト設定が使用される。
.PP
.Vb 1
\&    sudoers = files
.Ve
.SH "ファイル"
.ie n .IP "\fI/etc/ldap.conf\fR" 24
.el .IP "\fI/etc/ldap.conf\fR" 24
.IX Item "/etc/ldap.conf"
\&\s-1LDAP\s0 の設定ファイル
.ie n .IP "\fI/etc/nsswitch.conf\fR" 24
.el .IP "\fI/etc/nsswitch.conf\fR" 24
.IX Item "/etc/nsswitch.conf"
sudo の設定の参照元の順番を決める
.ie n .IP "\fI/etc/netsvc.conf\fR" 24
.el .IP "\fI/etc/netsvc.conf\fR" 24
.IX Item "/etc/netsvc.conf"
\&\s-1AIX\s0 で sudo の設定の参照元の順番を決める
.SH "用例"
.IX Header "EXAMPLES"
.Sh "ldap.conf の一例"
.IX Subsection "Example ldap.conf"
.Vb 10
\&  # URI か host:port の組み合わせを一つ以上指定する。
\&  # どちらも指定されていない場合、sudo は localhost と 389 番
\&  # ポートを使用する。
\&  #
\&  #host          ldapserver
\&  #host          ldapserver1 ldapserver2:390
\&  #
\&  # host がポートなしで指定されている場合のポート番号。
\&  # デフォルトは 389 である。
\&  #port          389
\&  #
\&  # URI の指定は、host と port による指定に優先する。
\&  uri            ldap://ldapserver
\&  #uri            ldaps://secureldapserver
\&  #uri            ldaps://secureldapserver ldap://ldapserver
\&  #
\&  #  LDAP サーバに接続しようとしているときの、秒単位の待ち時間。
\&  bind_timelimit 30
\&  #
\&  # LDAP の参照を行っているときの、秒単位の待ち時間。
\&  timelimit 30
\&  #
\&  # 必ず設定すること。さもないと、sudo は LDAP を無視することになる。
\&  sudoers_base   ou=SUDOers,dc=example,dc=com
\&  #
\&  # LDAP を参照したとき、sudo 設定のマッチングについて詳細情報を
\&  # 表示する。
\&  #sudoers_debug 2
\&  #
\&  # LDAP の操作を行う者の認証情報 (設定する、しないは任意)。
\&  #binddn        <who to search as>
\&  #bindpw        <password>
\&  #rootbinddn    <who to search as, uses /etc/ldap.secret for bindpw>
\&  #
\&  # LDAP プロトコルのバージョン。デフォルトは 3 である。
\&  #ldap_version 3
\&  #
\&  # LDAP 接続を暗号化したいなら、on にする。
\&  # 通例、ポートを 636 (ldaps) にすることも必要。
\&  #ssl on
\&  #
\&  # ポート 389 を使用し、バインド操作のために認証情報が
\&  # 送信される前に、暗号化セッションに切り替えたい場合に設定する。
\&  # これをサポートしているのは、OpenLDAP のような start_tls 拡張に
\&  # 対応している LDAP サーバだけである。
\&  #ssl start_tls
\&  #
\&  # 以下の TLS オプションを付けることで SSL/TLS 接続を微調整できる。
\&  #
\&  #tls_checkpeer yes # サーバの SSL 証明書を確認する。
\&  #tls_checkpeer no  # サーバの SSL 証明書を確認しない。
\&  #
\&  # tls_checkpeer を有効にするときは、 tls_cacertfile か
\&  # tls_cacertdir のどちらかを指定すること。tls_cacertfile や
\&  # tls_cacertdir は OpenLDAP 使用時のみ使える。
\&  #
\&  #tls_cacertfile /etc/certs/trusted_signers.pem
\&  #tls_cacertdir  /etc/certs
\&  #
\&  # /dev/random がないシステムでは、下記の設定を PRNGD、あるいは
\&  # EGD.pl と一緒に使用すれば、暗号セッション用の鍵を生成するための
\&  # 乱数プールの種を供給できる。このオプションが使えるのは、
\&  # OpenLDAP を使用しているときだけである。
\&  #
\&  #tls_randfile /etc/egd\-pool
\&  #
\&  # 使用する暗号を限定することができる。どの暗号が使えるかに
\&  # ついては、SSL の文書を参照してほしい。このオプションが
\&  # 使えるのは、OpenLDAP を使用しているときだけである。
\&  #
\&  #tls_ciphers <cipher\-list>
\&  #
\&  # sudo は LDAP サーバと交信するときに、クライアントの証明書を
\&  # 提示することができる。
\&  # 注意:
\&  #   * 両方の行を同時に有効にすること。
\&  #   * キーファイルをパスワードでプロテクトしてはいけない。
\&  #   * キーファイルが読めるのは root だけにするのを忘れずに。
\&  #
\&  # OpenLDAP の場合:
\&  #tls_cert /etc/certs/client_cert.pem
\&  #tls_key  /etc/certs/client_key.pem
\&  #
\&  # SunONE や iPlanet LDAP の場合:
\&  # こちらの場合は、tls_cert や tls_key で指定するのは、
\&  # ディレクトリでもよく、cert や key ファイルそのもののパスでもよい。
\&  # 前者の場合、ディレクトリ中のファイルは、既定の名前 (たとえば、
\&  # cert8.db と key4.db) でなければならない。もっとも、ファイルの
\&  # パスを指定した場合は、バージョン 5.0 の LDAP SDK にはバグが
\&  # あるので、ファイル名によってはうまく動作しないことがある。
\&  # この理由から、tls_cert や tls_key には、ファイル名ではなく、
\&  # ディレクトリを指定する方をお薦めする。
\&  #
\&  # tls_cert で指定した証明書のデータベースには、認証局の証明書と
\&  # クライアントの証明書が、どちらか一方だけ入っていてもよく、
\&  # 両方入っていてもよい。クライアントの証明書が入っている場合は、
\&  # tls_key も指定するべきである。
\&  # 後方互換のため、tls_cert のかわりに sslpath を使うこともできる。
\&  #tls_cert /var/ldap
\&  #tls_key /var/ldap
\&  #
\&  # LDAP に SASL 認証を使用する場合 (OpenSSL)
\&  # use_sasl yes
\&  # sasl_auth_id <SASL username>
\&  # rootuse_sasl yes
\&  # rootsasl_auth_id <SASL username for root access>
\&  # sasl_secprops none
\&  # krb5_ccname /etc/.ldapcache
.Ve
.Sh "OpenLDAP 用の Sudo のスキーマ"
.IX Subsection "Sudo schema for OpenLDAP"
下記のスキーマは OpenLDAP 用の形式になっている。このスキーマをファイルに
コピーしてスキーマ用のディレクトリ (たとえば、
\&\fI/etc/openldap/schema\fR) に入れ、適切な \f(CW\*(C`include\*(C'\fR 行を
\&\f(CW\*(C`slapd.conf\*(C'\fRに追加してから、\fBslapd\fR をリスタートする
だけでよい。
.PP
.Vb 6
\& attributetype ( 1.3.6.1.4.1.15953.9.1.1
\&    NAME \*(AqsudoUser\*(Aq
\&    DESC \*(AqUser(s) who may  run sudo\*(Aq
\&    EQUALITY caseExactIA5Match
\&    SUBSTR caseExactIA5SubstringsMatch
\&    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )
\&
\& attributetype ( 1.3.6.1.4.1.15953.9.1.2
\&    NAME \*(AqsudoHost\*(Aq
\&    DESC \*(AqHost(s) who may run sudo\*(Aq
\&    EQUALITY caseExactIA5Match
\&    SUBSTR caseExactIA5SubstringsMatch
\&    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )
\&
\& attributetype ( 1.3.6.1.4.1.15953.9.1.3
\&    NAME \*(AqsudoCommand\*(Aq
\&    DESC \*(AqCommand(s) to be executed by sudo\*(Aq
\&    EQUALITY caseExactIA5Match
\&    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )
\&
\& attributetype ( 1.3.6.1.4.1.15953.9.1.4
\&    NAME \*(AqsudoRunAs\*(Aq
\&    DESC \*(AqUser(s) impersonated by sudo\*(Aq
\&    EQUALITY caseExactIA5Match
\&    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )
\&
\& attributetype ( 1.3.6.1.4.1.15953.9.1.5
\&    NAME \*(AqsudoOption\*(Aq
\&    DESC \*(AqOptions(s) followed by sudo\*(Aq
\&    EQUALITY caseExactIA5Match
\&    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )
\&
\& attributetype ( 1.3.6.1.4.1.15953.9.1.6
\&    NAME \*(AqsudoRunAsUser\*(Aq
\&    DESC \*(AqUser(s) impersonated by sudo\*(Aq
\&    EQUALITY caseExactIA5Match
\&    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )
\&
\& attributetype ( 1.3.6.1.4.1.15953.9.1.7
\&    NAME \*(AqsudoRunAsGroup\*(Aq
\&    DESC \*(AqGroup(s) impersonated by sudo\*(Aq
\&    EQUALITY caseExactIA5Match
\&    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 )
\&
\& objectclass ( 1.3.6.1.4.1.15953.9.2.1 NAME \*(AqsudoRole\*(Aq SUP top STRUCTURAL
\&    DESC \*(AqSudoer Entries\*(Aq
\&    MUST ( cn )
\&    MAY ( sudoUser $ sudoHost $ sudoCommand $ sudoRunAs $ sudoRunAsUser $
\&          sudoRunAsGroup $ sudoOption $ description )
\&    )
.Ve
.SH "参照"
.IX Header "SEE ALSO"
\&\fIldap.conf\fR\|(5), \fIsudoers\fR\|(5)
.SH "警告"
.IX Header "CAVEATS"
LDAP を使用する \fBsudo\fR の設定と \fIsudoers\fR ファイルによる
\&\fBsudo\fR の設定では、設定を解析する仕方に相違があるので、注意して
ほしい。詳しくは、「\s-1LDAP\s0 と non-LDAP の sudo 設定の相違点」の
セクションを参照すること。
.SH "バグ"
.IX Header "BUGS"
\&\fBsudo\fR にバグを発見したと思ったら、下記ページにアクセスして、
バグレポートを提出していただきたい。
.br
http://www.sudo.ws/sudo/bugs/
.SH "サポート"
.IX Header "SUPPORT"
ある程度の無料サポートが sudo-users メーリングリストを通して利用できる。
購読やアーカイブの検索には、下記 URL をご覧になること。
.br
http://www.sudo.ws/mailman/listinfo/sudo\-users
.SH "免責"
.IX Header "DISCLAIMER"
\&\fBsudo\fR は「現状のまま」提供される。明示的な、あるいは黙示的な
いかなる保証も、商品性や特定目的への適合性についての黙示的な保証を含め、
またそれのみに止まらず、これを否認する。詳細な全文については、
\&\fBsudo\fR と一緒に配布されている \s-1LICENSE\s0 ファイルや
下記 Web ページをご覧いただきたい。
.br
http://www.sudo.ws/sudo/license.html
